<link rel="stylesheet" href="/css/account.css" />

<main class="account-container">
  <div class="account-container">
    <h1>Welcome, <%= user.name %></h1>

    <div class="account-sections">
      <!-- Profile Section -->
      <div class="account-box">
        <h2>Account Details</h2>
        <p><strong>Email:</strong> <%= user.email %></p>
        <p><strong>Role:</strong> <%= user.role.join(', ') %></p>
        <a href="/logout" class="logout-btn">Logout</a>
      </div>
      <h1>My Orders</h1>
  <% if (orders.length === 0) { %>
    <p class="no-orders">You haven't placed any orders yet.</p>
  <% } else { %>
    <% orders.forEach(order => { %>
      <section class="order-card">
        <div class="order-header">
          <span>ðŸ§¾ Order Date:</span> <strong><%= new Date(order.createdAt).toLocaleDateString() %></strong>
        </div>

        <table class="order-table">
          <thead>
            <tr>
              <th>Product</th>
              <th>Size</th>
              <th>Quantity</th>
              <th>Price (PKR)</th>
            </tr>
          </thead>
          <tbody>
            <% order.items.forEach(item => { %>
              <tr>
                <td><%= item.name %></td>
                <td><%= item.size %></td>
                <td><%= item.quantity %></td>
                <td><%= item.price * item.quantity %></td>
              </tr>
            <% }) %>
          </tbody>
        </table>

        <div class="order-total">
          <strong>Total:</strong> Rs <%= order.total %>
        </div>
      </section>
    <% }) %>
  <% } %>
</main>
